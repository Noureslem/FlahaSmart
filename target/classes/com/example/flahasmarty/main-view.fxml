<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<TabPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.example.flahasmarty.HelloController" 
         stylesheets="@styles.css" tabClosingPolicy="UNAVAILABLE">
    
    <!-- Articles Tab -->
    <Tab text="Articles" style="-fx-font-size: 14; -fx-padding: 10;">
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="15" style="-fx-padding: 25;" styleClass="form-container">
                
                <Label text="Gestion des Articles" styleClass="form-title"/>
                
                <GridPane hgap="15" vgap="15" styleClass="form-grid">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>
                    
                    <!-- Nom Article -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="Nom *" styleClass="form-label"/>
                        <TextField fx:id="articleName" styleClass="form-input" promptText="Nom de l'article"/>
                    </VBox>
                    
                    <!-- CatÃ©gorie -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="CatÃ©gorie *" styleClass="form-label"/>
                        <TextField fx:id="articleCategory" styleClass="form-input" promptText="CatÃ©gorie"/>
                    </VBox>
                    
                    <!-- Description -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label text="Description" styleClass="form-label"/>
                        <TextArea fx:id="articleDescription" styleClass="form-textarea" 
                                  promptText="Description du produit" wrapText="true" prefRowCount="4"/>
                    </VBox>
                    
                    <!-- Prix -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2">
                        <Label text="Prix (â‚¬)" styleClass="form-label"/>
                        <Spinner fx:id="articlePrice" styleClass="form-spinner" editable="true"/>
                    </VBox>
                    
                    <!-- Stock -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="2">
                        <Label text="Stock" styleClass="form-label"/>
                        <Spinner fx:id="articleStock" styleClass="form-spinner" editable="true"/>
                    </VBox>
                    
                    <!-- Poids -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="3">
                        <Label text="Poids (kg)" styleClass="form-label"/>
                        <Spinner fx:id="articleWeight" styleClass="form-spinner" editable="true"/>
                    </VBox>
                    
                    <!-- UnitÃ© -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <Label text="UnitÃ©" styleClass="form-label"/>
                        <TextField fx:id="articleUnit" styleClass="form-input" promptText="ex: piÃ¨ce, kg"/>
                    </VBox>
                    
                    <!-- Image URL -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="4" GridPane.columnSpan="2">
                        <Label text="URL Image" styleClass="form-label"/>
                        <TextField fx:id="articleImageUrl" styleClass="form-input" promptText="https://..."/>
                    </VBox>
                </GridPane>
                
                <!-- Buttons -->
                <HBox spacing="10" style="-fx-alignment: center;">

                    <Button fx:id="addArticleBtn"
                            text="+ Ajouter"
                            styleClass="btn-primary"
                            onAction="#handleAddArticle"/>



                    <Button fx:id="updateArticleBtn" text="âœŽ Modifier" styleClass="btn-secondary"/>
                    <Button fx:id="clearArticleBtn" text="RÃ©initialiser" styleClass="btn-light"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </Tab>
    
    <!-- Commandes Tab -->
    <Tab text="Commandes" style="-fx-font-size: 14; -fx-padding: 10;">
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="15" style="-fx-padding: 25;" styleClass="form-container">
                
                <Label text="Gestion des Commandes" styleClass="form-title"/>
                
                <GridPane hgap="15" vgap="15" styleClass="form-grid">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>
                    
                    <!-- RÃ©fÃ©rence -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="RÃ©fÃ©rence *" styleClass="form-label"/>
                        <TextField fx:id="orderReference" styleClass="form-input" promptText="RÃ©fÃ©rence unique"/>
                    </VBox>
                    
                    <!-- Date Commande -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="Date Commande" styleClass="form-label"/>
                        <DatePicker fx:id="orderDate" styleClass="form-input"/>
                    </VBox>
                    
                    <!-- Statut -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <Label text="Statut *" styleClass="form-label"/>
                        <TextField fx:id="orderStatus" styleClass="form-input" promptText="ex: En cours, LivrÃ©e"/>
                    </VBox>
                    
                    <!-- Mode Paiement -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <Label text="Mode Paiement" styleClass="form-label"/>
                        <TextField fx:id="orderPaymentMode" styleClass="form-input" promptText="ex: Carte, Virement"/>
                    </VBox>
                    
                    <!-- Adresse Livraison -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="2">
                        <Label text="Adresse Livraison" styleClass="form-label"/>
                        <TextField fx:id="orderAddress" styleClass="form-input" promptText="Adresse complÃ¨te"/>
                    </VBox>
                    
                    <!-- Montant Total -->
                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="3">
                        <Label text="Montant Total (â‚¬)" styleClass="form-label"/>
                        <Spinner fx:id="orderTotal" styleClass="form-spinner" editable="true"/>
                    </VBox>
                    
                    <!-- Frais Livraison -->
                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <Label text="Frais Livraison (â‚¬)" styleClass="form-label"/>
                        <Spinner fx:id="orderFees" styleClass="form-spinner" editable="true"/>
                    </VBox>
                </GridPane>
                
                <!-- Buttons -->
                <HBox spacing="10" style="-fx-alignment: center;">
                    <Button fx:id="addOrderBtn" text="+ Ajouter" styleClass="btn-primary"/>
                    <Button fx:id="updateOrderBtn" text="âœŽ Modifier" styleClass="btn-secondary"/>
                    <Button fx:id="deleteOrderBtn" text="âœ• Supprimer" styleClass="btn-danger"/>
                    <Button fx:id="clearOrderBtn" text="RÃ©initialiser" styleClass="btn-light"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </Tab>
    
    <!-- RÃ©sultat Articles Tab -->
    <Tab text="RÃ©sultat Articles" style="-fx-font-size: 14; -fx-padding: 10;">
        <VBox spacing="15" style="-fx-padding: 25;" styleClass="form-container">
            
            <HBox spacing="10" style="-fx-alignment: center-left;">
                <Label text="Liste des Articles" styleClass="form-title"/>
                <Button fx:id="refreshArticlesBtn" text="ðŸ”„ RafraÃ®chir" styleClass="btn-primary"/>
            </HBox>
            
            <TableView fx:id="articlesTable" prefHeight="500" style="-fx-font-size: 11;">
                <columns>
                    <TableColumn text="ID" prefWidth="50" fx:id="idColumn"/>
                    <TableColumn text="Nom" prefWidth="120" fx:id="nomColumn"/>
                    <TableColumn text="CatÃ©gorie" prefWidth="100" fx:id="categorieColumn"/>
                    <TableColumn text="Description" prefWidth="180" fx:id="descriptionColumn"/>
                    <TableColumn text="Prix (â‚¬)" prefWidth="80" fx:id="prixColumn"/>
                    <TableColumn text="Stock" prefWidth="70" fx:id="stockColumn"/>
                    <TableColumn text="Poids (kg)" prefWidth="80" fx:id="poidsColumn"/>
                    <TableColumn text="UnitÃ©" prefWidth="70" fx:id="uniteColumn"/>
                    <TableColumn text="Image URL" prefWidth="150" fx:id="imageUrlColumn"/>
                </columns>
            </TableView>
            
            <HBox style="-fx-alignment: center;">
                <Label fx:id="articleCountLabel" text="Total: 0 articles" style="-fx-font-size: 12; -fx-text-fill: #666;"/>
            </HBox>
            
            <Separator/>
            
            <VBox spacing="10" style="-fx-padding: 15; -fx-border-color: #e0e0e0; -fx-border-radius: 5;">
                <Label text="Supprimer un Article" styleClass="form-label" style="-fx-font-size: 13; -fx-font-weight: bold;"/>
                
                <HBox spacing="10" style="-fx-alignment: center-left;">
                    <TextField fx:id="deleteArticleIdField" styleClass="form-input" promptText="Donner ID pour supprimer" prefWidth="250"/>
                    <Button fx:id="deleteArticleTableBtn" text="âœ• Supprimer" styleClass="btn-danger" onAction="#handleDeleteArticleFromTable"/>
                </HBox>
            </VBox>
            
        </VBox>
    </Tab>
</TabPane>
