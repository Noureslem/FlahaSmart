<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="controllers.Auth.PasswordResetController"
      spacing="20" alignment="CENTER"
      style="-fx-background-color: #f5f5f5; -fx-padding: 40;">

    <Text text="RÉINITIALISATION" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #2c3e50;"/>
    <Text text="Mot de passe oublié ?" style="-fx-font-size: 16px; -fx-fill: #7f8c8d;"/>

    <!-- Section 1: Email -->
    <VBox fx:id="emailSection" spacing="15" maxWidth="400">
        <TextField fx:id="emailField" promptText="Votre email" style="-fx-padding: 10; -fx-background-radius: 5;"/>
        <Button fx:id="sendCodeButton" text="Envoyer le code" onAction="#handleSendCode"
                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-font-size: 14px;"
                maxWidth="Infinity"/>
    </VBox>

    <!-- Section 2: Code -->
    <VBox fx:id="codeSection" spacing="15" maxWidth="400" visible="false">
        <TextField fx:id="codeField" promptText="Code à 6 chiffres" style="-fx-padding: 10; -fx-background-radius: 5;"/>
        <Button fx:id="verifyCodeButton" text="Vérifier le code" onAction="#handleVerifyCode"
                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-font-size: 14px;"
                maxWidth="Infinity"/>
    </VBox>

    <!-- Section 3: Nouveau mot de passe -->
    <VBox fx:id="resetSection" spacing="15" maxWidth="400" visible="false">
        <PasswordField fx:id="newPasswordField" promptText="Nouveau mot de passe" style="-fx-padding: 10; -fx-background-radius: 5;"/>
        <PasswordField fx:id="confirmPasswordField" promptText="Confirmer le mot de passe" style="-fx-padding: 10; -fx-background-radius: 5;"/>
        <Button fx:id="resetButton" text="Réinitialiser" onAction="#handleResetPassword"
                style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5; -fx-font-size: 14px;"
                maxWidth="Infinity"/>
    </VBox>

    <!-- Messages -->
    <Text fx:id="errorMessage" fill="RED" visible="false" wrappingWidth="400"/>
    <Text fx:id="successMessage" fill="GREEN" visible="false" wrappingWidth="400"/>

    <!-- Bouton retour -->
    <Button fx:id="backButton" text="← Retour à la connexion" onAction="#handleBackToLogin"
            style="-fx-background-color: transparent; -fx-text-fill: #3498db; -fx-underline: true; -fx-font-size: 14px;"/>

</VBox>