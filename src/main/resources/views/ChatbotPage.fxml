<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox stylesheets="@/styles/style.css" xmlns:fx="http://javafx.com/fxml"
      fx:controller="controllers.ChatbotController" spacing="20" alignment="TOP_CENTER"
      prefWidth="800" prefHeight="600">

    <padding>
        <Insets top="25" right="30" bottom="25" left="30"/>
    </padding>

    <!-- En-tÃªte de la page -->
    <VBox spacing="5" alignment="CENTER">
        <Label text="ðŸ¤– AgriBot - Assistant Agricole Intelligent" styleClass="page-title"/>
        <Label text="Posez vos questions sur l'agriculture, les cultures, l'irrigation et plus encore !"
               styleClass="page-subtitle"/>
    </VBox>

    <!-- Contenu principal du chatbot -->
    <HBox spacing="25" VBox.vgrow="ALWAYS" alignment="TOP_CENTER">

        <!-- Zone de chat principale -->
        <VBox styleClass="chatbot-page-container" spacing="15" HBox.hgrow="ALWAYS">

            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- En-tÃªte du chat -->
            <HBox styleClass="chatbot-page-header" spacing="10" alignment="CENTER_LEFT">
                <Label text="ðŸ’¬ Conversation" styleClass="chat-section-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="statusLabel" text="ðŸŸ¢ En ligne" styleClass="status-online"/>
                <Button text="ðŸ—‘ï¸ Effacer" onAction="#onClearChat" styleClass="clear-chat-btn"/>
            </HBox>

            <!-- Zone de messages -->
            <ScrollPane fx:id="scrollPane" fitToWidth="true" VBox.vgrow="ALWAYS"
                        styleClass="chat-scroll-pane-large">
                <VBox fx:id="chatContainer" spacing="12" styleClass="chat-messages-large">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                </VBox>
            </ScrollPane>

            <!-- Zone de saisie -->
            <HBox spacing="15" alignment="CENTER" styleClass="chat-input-area-large">
                <TextField fx:id="userInput" promptText="Posez votre question sur l'agriculture..."
                           HBox.hgrow="ALWAYS" styleClass="chat-input-large"
                           onAction="#onSendMessage"/>
                <Button text="ðŸ“¤ Envoyer" onAction="#onSendMessage" styleClass="send-btn-large"/>
            </HBox>

        </VBox>

        <!-- Panel d'aide -->
        <VBox styleClass="chatbot-help-panel" spacing="15" prefWidth="280">

            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <Label text="ðŸ’¡ Suggestions" styleClass="help-title"/>

            <VBox spacing="10">
                <Button text="ðŸŒ± Comment planter des tomates ?"
                        onAction="#onSuggestionClick" styleClass="suggestion-btn"
                        maxWidth="Infinity" userData="Comment planter des tomates ?"/>
                <Button text="ðŸ’§ Quand arroser mes cultures ?"
                        onAction="#onSuggestionClick" styleClass="suggestion-btn"
                        maxWidth="Infinity" userData="Quand dois-je arroser mes cultures ?"/>
                <Button text="ðŸ› Lutter contre les parasites"
                        onAction="#onSuggestionClick" styleClass="suggestion-btn"
                        maxWidth="Infinity" userData="Comment lutter contre les parasites de maniÃ¨re naturelle ?"/>
                <Button text="ðŸŒ¿ Engrais naturels"
                        onAction="#onSuggestionClick" styleClass="suggestion-btn"
                        maxWidth="Infinity" userData="Quels sont les meilleurs engrais naturels ?"/>
                <Button text="ðŸšœ Entretien Ã©quipement"
                        onAction="#onSuggestionClick" styleClass="suggestion-btn"
                        maxWidth="Infinity" userData="Comment entretenir mon tracteur ?"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <VBox spacing="8" styleClass="help-info">
                <Label text="â„¹ï¸ Ã€ propos" styleClass="info-title"/>
                <Label text="AgriBot utilise l'IA Gemini pour rÃ©pondre Ã  vos questions agricoles de maniÃ¨re intelligente."
                       styleClass="info-text" wrapText="true"/>
            </VBox>

        </VBox>

    </HBox>

</VBox>

